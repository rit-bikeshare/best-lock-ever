webpackJsonp([1],{NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("7+uW"),s=n("Zrlr"),c=n.n(s),i=n("wxAW"),a=n.n(i),l=n("YqB/"),r=function(){function t(){c()(this,t),this.id=null,this.state="locked",this.lockTime=3e3,this.ws=new l.WebSocketBridge}return a()(t,[{key:"connect",value:function(t){var e=this;e.ws.connect(t),e.ws.listen(function(t,n){if(t.error)return console.error(t.error),void e.disconnect();"ident"==t.command&&e.ws.send({id:e.id}),"lock"==t.command&&e.lock(),"unlock"==t.command&&e.unlock()})}},{key:"disconnect",value:function(){this.ws.socket.close(1e3,"",{keepClosed:!0}),this.ws=new l.WebSocketBridge}},{key:"setState",value:function(t){this.state=t,this.ws.socket&&this.ws.send({state:t})}},{key:"lock",value:function(){var t=this;this.setState("locking");setTimeout(function(){t.setState("locked")},this.lockTime)}},{key:"unlock",value:function(){var t=this;this.setState("unlocking");setTimeout(function(){t.setState("unlocked")},this.lockTime)}}]),t}(),d={name:"LockState",props:{state:{type:String,required:!0}}},u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"lock-state"},[e("span",{class:this.state},[this._v(this._s(this.state))])])},staticRenderFns:[]};var k={name:"App",components:{LockState:n("VU/8")(d,u,!1,function(t){n("wQBs")},"data-v-248673a8",null).exports},data:function(){return{lock:new r,address:"wss://bikesharedev.rit.edu/api/ws/lock/register"}}},v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",[n("div",[t._v("\n      Connection URL: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],attrs:{type:"text"},domProps:{value:t.address},on:{input:function(e){e.target.composing||(t.address=e.target.value)}}})]),t._v(" "),n("div",[t._v("\n      Lock ID: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.lock.id,expression:"lock.id"}],attrs:{type:"text"},domProps:{value:t.lock.id},on:{input:function(e){e.target.composing||t.$set(t.lock,"id",e.target.value)}}})]),t._v(" "),n("div",[void 0==t.lock.ws.socket?n("button",{on:{click:function(e){t.lock.connect(t.address+"/"+t.lock.id)}}},[t._v("Connect")]):n("button",{on:{click:function(e){t.lock.disconnect()}}},[t._v("Disconnect")])])]),t._v(" "),n("hr"),t._v(" "),n("lock-state",{attrs:{state:t.lock.state}}),t._v(" "),n("div",["locked"==t.lock.state?n("button",{on:{click:function(e){t.lock.unlock()}}},[t._v("Unlock")]):"unlocked"==t.lock.state?n("button",{on:{click:function(e){t.lock.lock()}}},[t._v("Lock")]):t._e()])],1)},staticRenderFns:[]};var p=n("VU/8")(k,v,!1,function(t){n("vj1p")},null,null).exports;o.a.config.productionTip=!1,o.a.config.devtools=!0,new o.a({el:"#app",components:{App:p},template:"<App/>"})},vj1p:function(t,e){},wQBs:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.bec0e47143f516a0fba9.js.map